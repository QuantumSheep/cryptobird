<% layout('layout') -%>
<% block('title', "Login") -%>
<div class="vertical-center flex-column flex-wrap">
    <div class="mw-100 mx-auto px-5 py-2 untouchable" style="width:30em;">
        <img class="w-100" src="/assets/img/logo.png">
    </div>
    <div class="mw-100 card mx-auto" style="width:40em;">
        <form class="card-body m-0" action="/login" method="POST">
            <h5 class="card-title">Login</h5>

            <% if(session && session.errors) { %>
                <% session.errors.forEach(msg => { %>
                    <div class="alert alert-danger" role="alert"><%- msg %></div>
                <% }) %>
            <% } %>

            <div class="form-group">
                <input type="text" required="required" class="form-control" pattern="^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$|^[a-zA-Z0-9_]{3,}$" name="account" value="<%- session.data && session.data.account ? session.data.account : null %>" placeholder="Email or username" autofocus="autofocus">
            </div>
            <div class="form-group">
                <input type="password" required="required" class="form-control" name="password" placeholder="Password">
            </div>

            <a href="/register" class="btn btn-primary">Create an account</a>
            <button type="submit" class="btn bg-primary text-white float-right">Connect</button>
        </form>
    </div>
</div>