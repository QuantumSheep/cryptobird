<% layout('layout') -%>
<% block('title', "Messages") -%>
<div class="h-100 d-flex">
    <div class="h-100 d-flex flex-column border-right" style="width:20em;min-width:20em;max-width:20em;">
        <input id="search" class="form-control px-3" autocomplete="off" placeholder="Search">
        <div id="search-response" class="p-0 overflow-auto" style="display:none;">
            <small class="px-2 text-secondary">Contacts</small>
            <div id="search-contacts" class="list-group"></div>
            <small class="px-2 text-secondary">Others</small>
            <ul id="search-others" class="list-group"></ul>
            <small class="px-2 text-secondary">Asked</small>
            <ul id="search-asked" class="list-group"></ul>
        </div>
        <div id="contact-list" class="list-group p-0 overflow-auto">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">QuantumSheep</h5>
                    <small>2 hours ago</small>
                </div>
                <small class="limited-text w-100">So yesterday I told you that that will be great if we go to Camping this week!</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Loli girl</h5>
                    <small>1 days ago</small>
                </div>
                <small class="limited-text w-100">I swear I've 21 years old</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Hitsu</h5>
                    <small>5 days ago</small>
                </div>
                <small class="limited-text w-100">He's such a good and modest developper</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Simon</h5>
                    <small>6 days ago</small>
                </div>
                <small class="limited-text w-100">I finished that amazing book from Asimov the last week, it was gorgeous!</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Michael</h5>
                    <small>6 days ago</small>
                </div>
                <small class="limited-text w-100">And then I vomited all my spagets</small>
            </a>
        </div>
    </div>
    <div class="h-100 w-100">
        <div class="d-flex flex-column h-100 w-100">
            <ul id="messages" class="h-100 m-0 p-0"></ul>
            <form id="input" class="d-flex w-100 border-top m-0">
                <input class="form-control w-100 h-100 p-2" name="m" autocomplete="off" placeholder="Message">
                <button type="submit" class="btn btn-primary bg-primary text-white m-0">Send</button>
            </form>
        </div>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/assets/js/messenger.js"></script>
